(this["webpackJsonpclimb-record"]=this["webpackJsonpclimb-record"]||[]).push([[0],{110:function(e,t,a){e.exports=a(123)},119:function(e,t,a){},120:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=a(66),i=(a(119),a(50)),s=a(39),m=(a(120),a(67));var u=function(e){var t=e.component,a=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/climb-record/login",state:{from:e.location}}})}}))},d=a(45),p=a(16),h=a(17),g=a(19),b=a(18),f=a(15),E=a(20),A=a(87),v=a(164),y=a(166),N=a(76),O=a(125),x=a(88),j=a.n(x),C=a(89),w=a.n(C),S=Object(A.a)((function(e){return{flex1:{flexGrow:1},appbar:{color:"primary",backgroundColor:"#aeea00",opacity:"0.8"},menuButton:{color:"white !important"}}}));var k=Object(s.f)((function(e){var t=S();return r.a.createElement(v.a,{position:"fixed",className:t.appbar},r.a.createElement(y.a,null,r.a.createElement(N.a,{variant:"h6",className:t.flex1},r.a.createElement(O.a,{onClick:function(){},edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(j.a,null)),r.a.createElement(O.a,{disabled:!0,edge:"start",className:t.menuButton},"Climb Record App")),r.a.createElement(O.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.history.push({pathname:"/climb-record/login"})}},r.a.createElement(w.a,null))))})),I=a(38),R=a(13),D="UPDATE_USER";function U(e){return{type:D,payload:e}}function T(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.authdata?{Authorization:"Basic "+e.authdata}:{}}var F={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("https://test-server-express-2.herokuapp.com/users/authenticate",a).then(L).then((function(a){return a&&(a.authdata=window.btoa(e+":"+t),localStorage.setItem("user",JSON.stringify(a))),a})).catch((function(e){return console.log("ERROR: "+e)}))},logout:B,signup:function(e,t,a,n){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,firstName:a,lastName:n})};return fetch("https://test-server-express-2.herokuapp.com/users/addUser",r).then(L).then((function(a){return a&&(a.authdata=window.btoa(e+":"+t),localStorage.setItem("user",JSON.stringify(a))),a})).catch((function(e){return console.log("ERROR signup: "+e)}))},getAll:function(){var e={method:"GET",headers:T()};return fetch("https://test-server-express-2.herokuapp.com/users",e).then(L)},getRutesForUser:function(){var e={method:"GET",headers:T()};return fetch("https://test-server-express-2.herokuapp.com/users/getRutes",e).then(L)},addRuteForUser:function(e,t,a,n,r){var l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:t,comment:a,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/addRute",l).then(L)},deleteRuteForUser:function(e,t,a,n,r){var l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:t,comment:a,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/delRute",l).then(L)},uploadPhotoForUser:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,image:t})};return fetch("https://test-server-express-2.herokuapp.com/users/addPhoto",a).then(L).then((function(e){return e&&localStorage.setItem("user",JSON.stringify({username:e.username,firstName:e.firstName,lastName:e.lastName,image:t})),e})).catch((function(e){return console.log("ERROR upload photo: "+e)}))}};function B(){localStorage.removeItem("user")}function L(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&(B(),window.location.reload(!0));var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var Q=a(90),J=a.n(Q),G=a(172),P=a(188),W=a(4),M=a(167),z=a(168),H=a(169),K=a(91),Y=a.n(K),q=Object(W.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(m.a)(e,["children","classes","onClose"]);return r.a.createElement(M.a,Object.assign({disableTypography:!0,className:a.root},l),r.a.createElement(N.a,{variant:"h6"},t),n?r.a.createElement(O.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(Y.a,null)):null)})),V=Object(W.a)((function(e){return{root:{padding:e.spacing(2),minWidth:"600px"}}}))(z.a),Z=Object(W.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(H.a),_=a(47),X=a.n(_),$=a(170),ee=a(171);var te=Object(c.b)((function(e){return console.log(e),{user:{username:e.user.username,firstName:e.user.firstName,lastName:e.user.lastName,image:e.user.image}}}),{updateUser:U})((function(e){var t=e.user,a=r.a.useState(!1),n=Object(R.a)(a,2),l=n[0],o=n[1],c=r.a.useState(null),i=Object(R.a)(c,2),s=i[0],m=i[1],u=r.a.useState(null),d=Object(R.a)(u,2),p=d[0];if(d[1],!e.user.username)return e.updateUser(JSON.parse(localStorage.getItem("user"))),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{color:"secondary"}));var h=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(G.a,{color:"secondary",onClick:function(){o(!0)},style:{border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"rgb(190, 238, 51) -6px 0px 2px, rgb(190, 238, 51) 6px 0px 2px"}},t.image?r.a.createElement("img",{src:t.image,alt:"Profie",style:{width:"150px",height:"150px"}}):r.a.createElement(X.a,{style:{width:"150px",height:"150px"}})),r.a.createElement(P.a,{onClose:h,"aria-labelledby":"customized-dialog-title",open:l},r.a.createElement(q,{id:"customized-dialog-title",onClose:h},"Upload Image"),r.a.createElement(V,{dividers:!0},r.a.createElement(J.a,{width:390,height:295,onCrop:function(e){m(e)},onClose:function(){m(null)},src:p,imageWidth:250})),r.a.createElement(Z,null,r.a.createElement(G.a,{autoFocus:!0,onClick:function(){var t=e.user.username,a=s;F.uploadPhotoForUser(t,a).then((function(){e.updateUser(JSON.parse(localStorage.getItem("user"))),o(!1)})).catch((function(e){o(!1),alert(e)}))},color:"primary"},"Save changes"))))})),ae=a(173),ne=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement($.a,{item:!0,sx:12,sm:12,md:3},r.a.createElement(ae.a,{style:{marginTop:"10px"}},r.a.createElement(te,null),r.a.createElement("h5",{className:"card-title"},"Hi ",this.props.user.firstName,"! ",r.a.createElement(I.d,null)),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Welcome to Climb Record App!!"),r.a.createElement("p",{className:"card-text"},"This is a perfect place for you to keep track of climbing scores and get in touch with awesome people.")))}}]),t}(r.a.Component),re=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.users;return r.a.createElement($.a,{item:!0,sx:12,sm:4,md:2,style:{minWidth:"18em"}},r.a.createElement("div",{className:"card-body menu"},r.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Members"),t.loading&&r.a.createElement("em",null,"Loading users..."),t.length&&r.a.createElement("ul",null,t.map((function(t,a){return r.a.createElement(G.a,{key:a,fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.props.history.push({pathname:"/climb-record/id/"+t.username})}},r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},t.image?r.a.createElement("img",{style:{width:"2.4em"},src:t.image,alt:"Profie Photo"}):r.a.createElement(X.a,{fontSize:"large"}),t.firstName+" "+t.lastName))})))))}}]),t}(r.a.Component),le=Object(s.f)(re),oe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).close=a.close.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"close",value:function(e){document.getElementById(this.props.id).style.display="none"}},{key:"render",value:function(){var e=this.props.id;return r.a.createElement("div",{id:e,style:{display:"none"}},r.a.createElement("div",{id:"overlay",className:"d-flex justify-content-center flex-wrap align-content-center"},this.props.children))}}]),t}(r.a.Component),ce=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){var e=this.props,t=e.filedInput,a=e.label,n=e.submitted,l=e.htmlLabel;return r.a.createElement("div",{className:"form-group"+(n&&!t?" has-error":"")},r.a.createElement("label",{htmlFor:l},a),r.a.createElement("input",{type:"text",className:"form-control",name:l,value:t,onChange:this.handleChange}),n&&!t&&r.a.createElement("div",{className:"help-block"},a," is required"))}}]),t}(r.a.Component),ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={ruteName:"",comment:"",location:"",grade:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.submitNewRute=a.submitNewRute.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(d.a)({},a,n))}},{key:"submitNewRute",value:function(e){var t=this;this.setState({submitted:!0}),this.props.username&&this.state.ruteName&&this.state.comment&&this.state.location&&this.state.grade?(F.addRuteForUser(this.props.username,this.state.ruteName,this.state.comment,this.state.location,this.state.grade).then((function(){return t.props.updateRoutesList()})),document.getElementById("addRouteOverlay").style.display="none"):console.log("form input is invalid")}},{key:"render",value:function(){var e=this.state,t=e.ruteName,a=e.comment,n=e.location,l=e.grade,o=e.submitted;return r.a.createElement(oe,{id:"addRouteOverlay"},r.a.createElement("div",{className:"overlayclass"},r.a.createElement("h4",null,"Add new route"),r.a.createElement("form",{name:"form",className:"formmargin"},r.a.createElement(ce,{label:"Route Name",htmlLabel:"ruteName",filedInput:t,submitted:o,handleChange:this.handleChange}),r.a.createElement("div",{className:"d-flex flex-wrap"},r.a.createElement(ce,{label:"Location",htmlLabel:"location",filedInput:n,submitted:o,handleChange:this.handleChange}),r.a.createElement("div",{className:"gradepicker"},r.a.createElement(ce,{label:"Grade",htmlLabel:"grade",filedInput:l,submitted:o,handleChange:this.handleChange}))),r.a.createElement(ce,{label:"Comment",htmlLabel:"comment",filedInput:a,submitted:o,handleChange:this.handleChange})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-primary",disabled:!1,onClick:this.submitNewRute},"Submit new rute"),r.a.createElement("button",{className:"btn btn-secondary",disabled:!1,onClick:function(){return document.getElementById("addRouteOverlay").style.display="none"}},"Cancel"))))}}]),t}(r.a.Component),se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={rutes:[],searchstr:"",loading:!1},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleAddingRute=a.handleAddingRute.bind(Object(f.a)(a)),a.submitDeletionOfRoute=a.submitDeletionOfRoute.bind(Object(f.a)(a)),a.updateRoutesList=a.updateRoutesList.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;F.getRutesForUser().then((function(t){return e.setState({rutes:t})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(d.a)({},a,n))}},{key:"handleAddingRute",value:function(e){document.getElementById("addRouteOverlay").style.display="block"}},{key:"updateRoutesList",value:function(e){var t=this;this.setState({loading:!0}),F.getRutesForUser().then((function(e){return t.setState({rutes:e})})).then((function(){return t.setState({loading:!1})}))}},{key:"submitDeletionOfRoute",value:function(e,t,a,n,r){var l=this;this.setState({loading:!0}),F.deleteRuteForUser(e,t,a,n,r).then((function(e){return l.setState({rutes:e})})).then((function(){return l.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,n=a.rutes,l=a.loading,o=a.searchstr;return r.a.createElement($.a,{item:!0,sx:12,style:{flex:1,minWidth:"15em"}},r.a.createElement("div",{className:"searchbutton mb-4"},r.a.createElement("input",{className:"form-control",type:"text",value:o,onChange:this.handleChange,name:"searchstr",placeholder:"Search","aria-label":"Search"})),n.length&&!l?r.a.createElement("div",{className:"card cardPadding noborder"},n.map((function(a,n){return a.username===t.username&&(0===o.length||a.ruteName.search(o)>-1)?r.a.createElement("div",{className:"container",key:n},r.a.createElement("a",{"data-toggle":"collapse",href:"#"+a.ruteName.replace(/\s+/g,""),role:"button","aria-expanded":"false","aria-controls":a.ruteName.replace(/\s+/g,"")},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",null,a.ruteName),r.a.createElement("div",null,a.grade))),r.a.createElement("hr",null),r.a.createElement("div",{className:"collapse",id:a.ruteName.replace(/\s+/g,"")},r.a.createElement("div",{className:"row expandedarea justify-content-between"},r.a.createElement("div",{className:"expandedtext"},r.a.createElement("div",null,r.a.createElement(I.c,null)," "+a.location),r.a.createElement("div",null,r.a.createElement(I.a,null)," "+a.comment)),r.a.createElement("div",null,r.a.createElement("a",{id:"myLink",title:"Click to delete route",href:"#",onClick:function(){return console.log("editing to be implemented")}},r.a.createElement(I.b,null))," ",r.a.createElement("a",{id:"myLink",title:"Click to delete route",href:"#",onClick:e.submitDeletionOfRoute.bind(e,t.username,a.ruteName,a.comment,a.location,a.grade)},r.a.createElement(I.e,null)))))):null})),r.a.createElement("p",{style:{marginTop:"15px"}},r.a.createElement("button",{className:"btn btn-primary",disabled:!1,onClick:this.handleAddingRute},"Add new rute"))):r.a.createElement("div",{align:"center"},r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})),r.a.createElement(ie,{username:t.username,updateRoutesList:this.updateRoutesList}))}}]),t}(r.a.Component),me=a(174);function ue(e){var t=Object(A.a)((function(t){return{root:{position:e.position,marginTop:"40px",padding:"10px",left:"0",right:"0",bottom:"0"}}}))();return r.a.createElement(N.a,{className:t.root,variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(me.a,{color:"inherit",href:"https://todovica.github.io/"},"Ana Todovic")," ",(new Date).getFullYear(),".")}var de=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={user:{},users:[],rutes:[],submitted:!1,ruteName:"",comment:"",location:"",grade:""},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({user:JSON.parse(localStorage.getItem("user")),users:{loading:!0}}),F.getAll().then((function(t){return e.setState({users:t})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(d.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.users,n=e.ruteName,l=e.comment,o=e.submitted,c=e.location,i=e.grade;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",style:{marginTop:"70px",flex:1}},r.a.createElement(ne,{user:t}),r.a.createElement(se,{user:t,users:a,ruteName:n,comment:l,location:c,grade:i,submitted:o}),r.a.createElement(le,{users:a})),r.a.createElement(ue,{position:"fixed"}))}}]),t}(r.a.Component),pe=a(56),he={user:{username:localStorage.getItem("user")?localStorage.getItem("user").username:"",firstName:localStorage.getItem("user")?localStorage.getItem("user").firstName:"",lastName:localStorage.getItem("user")?localStorage.getItem("user").lastName:"",image:localStorage.getItem("user")?localStorage.getItem("user").image:null}};var ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return t.type===D?Object.assign({},e,{user:{username:t.payload.username,firstName:t.payload.firstName,lastName:t.payload.lastName,image:t.payload.image}}):e},be=Object(pe.b)(ge),fe=a(92),Ee=a.n(fe),Ae=Object(A.a)((function(e){return{root:{flexGrow:1,backgroundImage:"url(".concat(Ee.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",height:"500px"},space:{padding:e.spacing(2)}}}));function ve(){var e=Ae();return r.a.createElement($.a,{container:!0,className:e.root,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h1"},"Climb Record App"),r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h5"},'"It is not the mountain we conquer, but ourselves."',r.a.createElement("footer",{className:"blockquote-footer"},"Sir Edmund Hillary")))}var ye=a(176),Ne=a(175),Oe=a(184),xe=a(177),je=a(186),Ce=a(64),we=a.n(Ce),Se=Object(A.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var ke=function(e){var t=Se(),a=r.a.useState(""),n=Object(R.a)(a,2),l=n[0],o=n[1],c=r.a.useState(""),i=Object(R.a)(c,2),s=i[0],m=i[1];function u(e){"username"===e.target.id?o(e.target.value):"password"===e.target.id?m(e.target.value):console.error("unknown target id")}return F.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ae.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ne.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(ye.a,{className:t.avatar},r.a.createElement(we.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:l,autoComplete:"username",autoFocus:!0,onChange:u}),r.a.createElement(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:s,autoComplete:"current-password",onChange:u}),r.a.createElement(xe.a,{control:r.a.createElement(je.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),F.login(l,s).then((function(t){be.dispatch(U(t));var a=(e.location.state||{from:{pathname:"/climb-record/home"}}).from;e.history.push(a)}))}},"Sign In"),r.a.createElement($.a,{container:!0},r.a.createElement($.a,{item:!0,xs:!0},r.a.createElement(me.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement($.a,{item:!0},r.a.createElement(me.a,{href:"#",variant:"body2",onClick:function(t){t.preventDefault(),e.history.push({pathname:"/climb-record/signup"})}},"Don't have an account? Sign Up"))))),r.a.createElement(ue,null)))},Ie=Object(A.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Re(e){var t=Ie(),a=r.a.useState(""),n=Object(R.a)(a,2),l=n[0],o=n[1],c=r.a.useState(""),i=Object(R.a)(c,2),s=i[0],m=i[1],u=r.a.useState(""),d=Object(R.a)(u,2),p=d[0],h=d[1],g=r.a.useState(""),b=Object(R.a)(g,2),f=b[0],E=b[1];function A(e){"firstName"===e.target.id?o(e.target.value):"lastName"===e.target.id&&m(e.target.value),"username"===e.target.id?h(e.target.value):"password"===e.target.id?E(e.target.value):console.error("unknown target id")}return F.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ae.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ne.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(ye.a,{className:t.avatar},r.a.createElement(we.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(Oe.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:l,onChange:A})),r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:s,onChange:A})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:p,onChange:A})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:A})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(xe.a,{control:r.a.createElement(je.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),F.signup(p,f,l,s).then((function(t){alert("user created! try to login!"+t);var a=(e.location.state||{from:{pathname:"/climb-record/login"}}).from;e.history.push(a)})).catch((function(e){return console.log("ERROR: "+e)}))}},"Sign Up"),r.a.createElement($.a,{container:!0,justify:"flex-end"},r.a.createElement($.a,{item:!0},r.a.createElement(me.a,{href:"/climb-record/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(ue,null)))}var De=a(3),Ue=a(96),Te=a.n(Ue),Fe=a(187),Be=a(179),Le=a(178),Qe=a(181),Je=a(95),Ge=a.n(Je),Pe=a(182),We=a(180);function Me(){return r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,null))}var ze="LOADING",He="USER_FOUND",Ke="USER_NOT_FOUND",Ye="INTERNAL_ERROR",qe="ROUTES_FOUND",Ve=Object(A.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},border:{boxShadow:"0px 2px 1px -1px #5aea00, 0px 1px 1px 0px #5aea00, 0px 1px 3px 0px #006400"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));function Ze(e){var t=Ve(),a=e.user,n=r.a.useState([]),l=Object(R.a)(n,2),o=l[0],c=l[1],i=r.a.useState([]),s=Object(R.a)(i,2),m=s[0],u=(s[1],r.a.useState("LOADING")),d=Object(R.a)(u,2),p=d[0],h=d[1];p===ze&&F.getRutesForUser().then((function(e){c(e),h(qe)})).catch((function(){h("INTERNAL_ERROR")}));var g,b=r.a.createElement(r.a.Fragment,null,o.map((function(e,n){return e.username===a.username&&(0===m.length||e.ruteName.search(m)>-1)?r.a.createElement(Fe.a,{key:n,className:t.border},r.a.createElement(Le.a,{expandIcon:r.a.createElement(Ge.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement("div",{className:t.column},r.a.createElement(N.a,{className:t.heading},e.ruteName)),r.a.createElement("div",{className:t.column},r.a.createElement(N.a,{className:t.secondaryHeading},e.grade))),r.a.createElement(Be.a,{className:t.details},r.a.createElement("div",{className:t.column}),r.a.createElement("div",{className:t.column},r.a.createElement(N.a,{className:t.secondaryHeading},e.comment)),r.a.createElement("div",{className:Object(De.a)(t.column,t.helper)},r.a.createElement(N.a,{variant:"caption"},e.location))),r.a.createElement(We.a,null),r.a.createElement(Qe.a,null,r.a.createElement(Pe.a,{size:"small","aria-label":"scroll back to top"},r.a.createElement(Te.a,{color:"primary"})))):null})));switch(p){case ze:g=r.a.createElement(Me,null);break;case qe:g=b;break;case Ye:g=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:g=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement("div",{className:t.root},g)}var _e=Object(A.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},imageBorder:{margin:"20px",marginRight:"20px",border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"rgb(190, 238, 51) -6px 0px 2px, rgb(190, 238, 51) 6px 0px 2px"},imageSize:{width:"150px",height:"150px"}}}));function Xe(e){var t=_e(),a=e.match.params.username,n=r.a.useState("LOADING"),l=Object(R.a)(n,2),o=l[0],c=l[1],i=r.a.useState({}),s=Object(R.a)(i,2),m=s[0],u=s[1];o===ze&&F.getAll().then((function(e){var t=e.find((function(e){return e.username===a}));t?(u(t),c(He)):(c(Ke),alert(a+" username not found"))})).catch((function(){c(Ye)}));var d,p=r.a.createElement(ae.a,null,r.a.createElement($.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(G.a,{className:t.imageBorder,onClick:function(){}},m.image?r.a.createElement("img",{src:m.image,className:t.imageSize,alt:"Profie"}):r.a.createElement(X.a,{className:t.imageSize})),r.a.createElement($.a,{style:{margin:"10px"}},m.firstName+" "+m.lastName)),r.a.createElement(Ze,{user:m}));switch(o){case ze:d=r.a.createElement(Me,null);break;case He:d=p;break;case Ke:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"User Not Found");break;case Ye:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:"70px",flex:1}},d))}var $e=a(97),et=a(183),tt=Object($e.a)({palette:{primary:{main:"#aeea00"},secondary:{main:"#006400"}},typography:{useNextVariants:!0}});var at=function(){return r.a.createElement(et.a,{theme:tt},r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(u,{exact:!0,path:"/climb-record/home",component:de}),r.a.createElement(u,{exact:!0,path:"/climb-record/id/:username",component:Xe}),r.a.createElement(s.b,{path:"/climb-record/login",component:ke}),r.a.createElement(s.b,{path:"/climb-record/signup",component:Re}),r.a.createElement(s.a,{exact:!0,from:"/climb-record*",to:"/climb-record/home"}))))};o.a.render(r.a.createElement(c.a,{store:be},r.a.createElement(at,null)),document.getElementById("root"))},92:function(e,t,a){e.exports=a.p+"static/media/background.16d02ccb.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.cb463731.chunk.js.map