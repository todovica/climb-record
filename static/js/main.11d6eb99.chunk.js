(this["webpackJsonpclimb-record"]=this["webpackJsonpclimb-record"]||[]).push([[0],{102:function(e,a,t){e.exports=t.p+"static/media/background.16d02ccb.png"},118:function(e,a,t){e.exports=t(131)},127:function(e,a,t){},128:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),c=t(69),i=(t(127),t(52)),s=t(40),m=(t(128),t(70));var u=function(e){var a=e.component,t=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return localStorage.getItem("user")?r.a.createElement(a,e):r.a.createElement(s.a,{to:{pathname:"/climb-record/login",state:{from:e.location}}})}}))},p=t(89),d=t(32),g=t(33),h=t(37),b=t(34),f=t(29),E=t(38),v=t(90),x=t(175),y=t(176),N=t(44),O=t(134),S=t(91),j=t.n(S),k=t(92),C=t.n(k),w=Object(v.a)((function(e){return{flex1:{flexGrow:1},appbar:{color:"primary",backgroundColor:"#aeea00",opacity:"0.8"},menuButton:{color:"white !important"}}}));var R=Object(s.f)((function(e){var a=w();return r.a.createElement(x.a,{position:"fixed",className:a.appbar},r.a.createElement(y.a,null,r.a.createElement(N.a,{variant:"h6",className:a.flex1},r.a.createElement(O.a,{onClick:function(){},edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(j.a,null)),r.a.createElement(O.a,{disabled:!0,edge:"start",className:a.menuButton},"Climb Record App")),r.a.createElement(O.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.history.push({pathname:"/climb-record/login"})}},r.a.createElement(C.a,null))))})),I=t(104),T=t(10),U="UPDATE_USER";function F(e){return{type:U,payload:e}}function A(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.authdata?{Authorization:"Basic "+e.authdata}:{}}var L={login:function(e,a){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})};return fetch("https://test-server-express-2.herokuapp.com/users/authenticate",t).then(z).then((function(t){return t&&(t.authdata=window.btoa(e+":"+a),localStorage.setItem("user",JSON.stringify(t))),t})).catch((function(e){return console.log("ERROR: "+e)}))},logout:D,signup:function(e,a,t,n){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a,firstName:t,lastName:n})};return fetch("https://test-server-express-2.herokuapp.com/users/addUser",r).then(z).then((function(t){return t&&(t.authdata=window.btoa(e+":"+a),localStorage.setItem("user",JSON.stringify(t))),t})).catch((function(e){return console.log("ERROR signup: "+e)}))},getAll:function(){var e={method:"GET",headers:A()};return fetch("https://test-server-express-2.herokuapp.com/users",e).then(z)},getRutesForUser:function(){var e={method:"GET",headers:A()};return fetch("https://test-server-express-2.herokuapp.com/users/getRutes",e).then(z)},addRuteForUser:function(e,a,t,n,r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:a,comment:t,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/addRute",o).then(z)},deleteRuteForUser:function(e,a,t,n,r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:a,comment:t,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/delRute",o).then(z)},uploadPhotoForUser:function(e,a){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,image:a})};return fetch("https://test-server-express-2.herokuapp.com/users/addPhoto",t).then(z).then((function(e){return e&&localStorage.setItem("user",JSON.stringify({username:e.username,firstName:e.firstName,lastName:e.lastName,image:a})),e})).catch((function(e){return console.log("ERROR upload photo: "+e)}))}};function D(){localStorage.removeItem("user")}function z(e){return e.text().then((function(a){var t=a&&JSON.parse(a);if(!e.ok){401===e.status&&(D(),window.location.reload(!0));var n=t&&t.message||e.statusText;return Promise.reject(n)}return t}))}var P=t(93),B=t.n(P),J=t(182),W=t(204),q=t(4),G=t(177),_=t(178),H=t(179),V=t(94),M=t.n(V),Y=Object(q.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,o=Object(m.a)(e,["children","classes","onClose"]);return r.a.createElement(G.a,Object.assign({disableTypography:!0,className:t.root},o),r.a.createElement(N.a,{variant:"h6"},a),n?r.a.createElement(O.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(M.a,null)):null)})),K=Object(q.a)((function(e){return{root:{padding:e.spacing(2)}}}))(_.a),Q=Object(q.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(H.a),X=t(47),Z=t.n(X),$=t(180),ee=t(181);var ae=Object(c.b)((function(e){return console.log(e),{user:{username:e.user.username,firstName:e.user.firstName,lastName:e.user.lastName,image:e.user.image}}}),{updateUser:F})((function(e){var a=e.user,t=r.a.useState(!1),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(null),i=Object(T.a)(c,2),s=i[0],m=i[1],u=r.a.useState(null),p=Object(T.a)(u,2),d=p[0];if(p[1],!e.user.username)return e.updateUser(JSON.parse(localStorage.getItem("user"))),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{color:"secondary"}));var g=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement(J.a,{color:"secondary",onClick:function(){l(!0)},style:{marginBottom:"20px",border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"}},a.image?r.a.createElement("img",{src:a.image,alt:"Profie",style:{width:"150px",height:"150px"}}):r.a.createElement(Z.a,{style:{width:"150px",height:"150px"}})),r.a.createElement(W.a,{onClose:g,"aria-labelledby":"customized-dialog-title",open:o},r.a.createElement(Y,{id:"customized-dialog-title",onClose:g},"Upload Image"),r.a.createElement(K,{dividers:!0},r.a.createElement(B.a,{width:390,height:295,onCrop:function(e){m(e)},onClose:function(){m(null)},src:d,imageWidth:250})),r.a.createElement(Q,null,r.a.createElement(J.a,{autoFocus:!0,onClick:function(){var a=e.user.username,t=s;L.uploadPhotoForUser(a,t).then((function(){e.updateUser(JSON.parse(localStorage.getItem("user"))),l(!1)})).catch((function(e){l(!1),alert(e)}))},color:"primary"},"Save changes"))))})),te=t(183),ne=function(e){function a(){return Object(d.a)(this,a),Object(h.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement($.a,{item:!0,sx:12,sm:12,md:3},r.a.createElement(te.a,{style:{marginTop:"10px"}},r.a.createElement(ae,null),r.a.createElement("h5",{className:"card-title"},"Hi ",this.props.user.firstName,"! ",r.a.createElement(I.a,null)),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Welcome to Climb Record App!!"),r.a.createElement("p",{className:"card-text"},"This is a perfect place for you to keep track of climbing scores and get in touch with awesome people.")))}}]),a}(r.a.Component),re=t(184),oe=t(185),le=t(186),ce=t(189),ie=t(188),se=t(187),me=t(190),ue=t(95),pe=t.n(ue);function de(){return r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,null))}var ge=Object(v.a)((function(e){return{border:{"&:hover":{cursor:"pointer",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"}},button:{backgroundColor:"#ffff",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},title:{margin:e.spacing(4,0,2)}}}));var he=Object(s.f)((function(e){var a=ge(),t=e.users;return r.a.createElement($.a,{item:!0,sx:12,sm:4,md:2,style:{minWidth:"18em"}},t.loading&&r.a.createElement(de,null),t.length&&r.a.createElement(re.a,null,t.map((function(t,n){return r.a.createElement(oe.a,{key:n,className:a.border,onClick:function(){e.history.push({pathname:"/climb-record/id/"+t.username})}},r.a.createElement(le.a,null,r.a.createElement(se.a,null,t.image?r.a.createElement("img",{style:{width:"2.4em"},src:t.image,alt:"Profie"}):r.a.createElement(Z.a,{fontSize:"large"}))),r.a.createElement(ie.a,{primary:t.firstName+" "+t.lastName}),r.a.createElement(ce.a,null,r.a.createElement(me.a,{size:"small","aria-label":"scroll back to top",className:a.button},r.a.createElement(pe.a,{color:"primary"}))))}))))})),be=t(191),fe=t(21),Ee=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){var e=this.props,a=e.filedInput,t=e.label,n=e.submitted,o=e.htmlLabel;return r.a.createElement("div",{className:"form-group"+(n&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:o},t),r.a.createElement("input",{type:"text",className:"form-control",name:o,value:a,onChange:this.handleChange}),n&&!a&&r.a.createElement("div",{className:"help-block"},t," is required"))}}]),a}(r.a.Component);var ve=function(e){var a=Object(fe.a)(),t=Object(be.a)(a.breakpoints.down("sm")),n=r.a.useState(!1),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState(""),s=Object(T.a)(i,2),m=s[0],u=s[1],p=r.a.useState(""),d=Object(T.a)(p,2),g=d[0],h=d[1],b=r.a.useState(""),f=Object(T.a)(b,2),E=f[0],v=f[1],x=r.a.useState(""),y=Object(T.a)(x,2),N=y[0],O=y[1],S=r.a.useState(!1),j=Object(T.a)(S,2),k=j[0],C=j[1],w=function(){c(!1)};function R(e){var a=e.target,t=a.name,n=a.value;"ruteName"===t?u(n):"comment"===t?h(n):"location"===t?v(n):"grade"===t?O(n):console.log("error!!!!!!!!!")}return r.a.createElement("div",null,r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){c(!0)}},"Add new route"),r.a.createElement(W.a,{fullScreen:t,onClose:w,"aria-labelledby":"customized-dialog-title",open:l},r.a.createElement(Y,{id:"customized-dialog-title",onClose:w},"Add new route"),r.a.createElement(K,{dividers:!0},r.a.createElement("form",{name:"form",className:"formmargin"},r.a.createElement(Ee,{label:"Route Name",htmlLabel:"ruteName",filedInput:m,submitted:k,handleChange:R}),r.a.createElement("div",{className:"d-flex flex-wrap"},r.a.createElement(Ee,{label:"Location",htmlLabel:"location",filedInput:E,submitted:k,handleChange:R}),r.a.createElement("div",{className:"gradepicker"},r.a.createElement(Ee,{label:"Grade",htmlLabel:"grade",filedInput:N,submitted:k,handleChange:R}))),r.a.createElement(Ee,{label:"Comment",htmlLabel:"comment",filedInput:g,submitted:k,handleChange:R}))),r.a.createElement(Q,null,r.a.createElement(J.a,{autoFocus:!0,variant:"contained",color:"primary",onClick:function(a){C(!0),e.username&&m&&g&&E&&N?(L.addRuteForUser(e.username,m,g,E,N).then((function(){return e.updateRoutesList()})),c(!1)):console.log("form input is invalid")}},"Save changes"))))},xe=t(3),ye=t(101),Ne=t.n(ye),Oe=t(99),Se=t.n(Oe),je=t(100),ke=t.n(je),Ce=t(203),we=t(193),Re=t(192),Ie=t(195),Te=t(98),Ue=t.n(Te),Fe=t(194),Ae="LOADING",Le="USER_FOUND",De="USER_NOT_FOUND",ze="INTERNAL_ERROR",Pe="ROUTES_FOUND",Be=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},border:{backgroundColor:e.palette.background.paper,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));function Je(e){var a=Be(),t=e.user,n=r.a.useState([]),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState([]),s=Object(T.a)(i,2),m=s[0],u=s[1],p=r.a.useState("LOADING"),d=Object(T.a)(p,2),g=d[0],h=d[1];g!==Ae&&!0!==e.reload||L.getRutesForUser().then((function(e){c(e),h(Pe)})).catch((function(){h("INTERNAL_ERROR")}));var b,f=r.a.createElement($.a,{item:!0,sx:12,style:{flex:1,minWidth:"15em"}},r.a.createElement("div",{className:"searchbutton mb-4"},r.a.createElement("input",{className:"form-control",type:"text",value:m,onChange:function(e){u(e.target.value)},name:"searchstr",placeholder:"Search","aria-label":"Search"})),l.map((function(n,o){return n.username===t.username&&(0===m.length||n.ruteName.search(m)>-1)?r.a.createElement(Ce.a,{key:o,className:a.border},r.a.createElement(Re.a,{expandIcon:r.a.createElement(Ue.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.heading},n.ruteName)),r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.secondaryHeading},n.grade))),r.a.createElement(we.a,{className:a.details},r.a.createElement("div",{className:a.column}),r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.secondaryHeading},n.comment)),r.a.createElement("div",{className:Object(xe.a)(a.column,a.helper)},r.a.createElement(N.a,{variant:"caption"},n.location))),r.a.createElement(Fe.a,null),r.a.createElement(Ie.a,null,r.a.createElement(me.a,{size:"small","aria-label":"scroll back to top",className:a.border,onClick:e.submitDeletionOfRoute},r.a.createElement(Se.a,{color:"primary"})),r.a.createElement(me.a,{size:"small","aria-label":"scroll back to top",className:a.border},r.a.createElement(ke.a,{color:"primary"})),r.a.createElement(me.a,{size:"small","aria-label":"scroll back to top",className:a.border},r.a.createElement(Ne.a,{color:"primary"})))):null})));switch(g){case Ae:b=r.a.createElement(de,null);break;case Pe:b=f;break;case ze:b=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:b=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement("div",{className:a.root},b)}var We=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).state={rutes:[],reload:!1},t.handleAddingRute=t.handleAddingRute.bind(Object(f.a)(t)),t.updateRoutesList=t.updateRoutesList.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.getRutesForUser().then((function(a){return e.setState({rutes:a})}))}},{key:"handleAddingRute",value:function(e){document.getElementById("addRouteOverlay").style.display="block"}},{key:"updateRoutesList",value:function(e){var a=this;this.setState({reload:!0}),L.getRutesForUser().then((function(e){return a.setState({rutes:e})})).then((function(){return a.setState({reload:!1})}))}},{key:"render",value:function(){var e=this.props.user,a=this.state.reload;return a?r.a.createElement(de,null):r.a.createElement($.a,{item:!0,sx:12,style:{flex:1,minWidth:"18em",margin:"20px"}},r.a.createElement(ve,{username:e.username,updateRoutesList:this.updateRoutesList}),r.a.createElement(Je,{user:e,reload:a}))}}]),a}(r.a.Component),qe=t(196);function Ge(e){var a=Object(v.a)((function(a){return{root:{position:e.position,marginTop:"40px",padding:"10px",left:"0",right:"0",bottom:"0"}}}))();return r.a.createElement(N.a,{className:a.root,variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(qe.a,{color:"inherit",href:"https://todovica.github.io/"},"Ana Todovic")," ",(new Date).getFullYear(),".")}var _e=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).state={user:{},users:[],rutes:[],submitted:!1,ruteName:"",comment:"",location:"",grade:""},t.handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({user:JSON.parse(localStorage.getItem("user")),users:{loading:!0}}),L.getAll().then((function(a){return e.setState({users:a})}))}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(p.a)({},t,n))}},{key:"render",value:function(){var e=this.state,a=e.user,t=e.users,n=e.ruteName,o=e.comment,l=e.submitted,c=e.location,i=e.grade;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",style:{marginTop:"70px",marginBottom:"40px",flex:1}},r.a.createElement(ne,{user:a}),r.a.createElement(We,{user:a,users:t,ruteName:n,comment:o,location:c,grade:i,submitted:l}),r.a.createElement(he,{users:t})),r.a.createElement(Ge,{position:"fixed"}))}}]),a}(r.a.Component),He=t(59),Ve={user:{username:localStorage.getItem("user")?localStorage.getItem("user").username:"",firstName:localStorage.getItem("user")?localStorage.getItem("user").firstName:"",lastName:localStorage.getItem("user")?localStorage.getItem("user").lastName:"",image:localStorage.getItem("user")?localStorage.getItem("user").image:null}};var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,a=arguments.length>1?arguments[1]:void 0;return a.type===U?Object.assign({},e,{user:{username:a.payload.username,firstName:a.payload.firstName,lastName:a.payload.lastName,image:a.payload.image}}):e},Ye=Object(He.b)(Me),Ke=t(102),Qe=t.n(Ke),Xe=Object(v.a)((function(e){return{root:{flexGrow:1,backgroundImage:"url(".concat(Qe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",height:"500px"},space:{padding:e.spacing(2)}}}));function Ze(){var e=Xe();return r.a.createElement($.a,{container:!0,className:e.root,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h1"},"Climb Record App"),r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h5"},'"It is not the mountain we conquer, but ourselves."',r.a.createElement("footer",{className:"blockquote-footer"},"Sir Edmund Hillary")))}var $e=t(197),ea=t(200),aa=t(198),ta=t(202),na=t(68),ra=t.n(na),oa=Object(v.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var la=function(e){var a=oa(),t=r.a.useState(""),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(""),i=Object(T.a)(c,2),s=i[0],m=i[1];function u(e){"username"===e.target.id?l(e.target.value):"password"===e.target.id?m(e.target.value):console.error("unknown target id")}return L.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(te.a,{component:"main",maxWidth:"xs"},r.a.createElement($e.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(se.a,{className:a.avatar},r.a.createElement(ra.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(ea.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:o,autoComplete:"username",autoFocus:!0,onChange:u}),r.a.createElement(ea.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:s,autoComplete:"current-password",onChange:u}),r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(J.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault(),L.login(o,s).then((function(a){Ye.dispatch(F(a));var t=(e.location.state||{from:{pathname:"/climb-record/home"}}).from;e.history.push(t)}))}},"Sign In"),r.a.createElement($.a,{container:!0},r.a.createElement($.a,{item:!0,xs:!0},r.a.createElement(qe.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement($.a,{item:!0},r.a.createElement(qe.a,{href:"#",variant:"body2",onClick:function(a){a.preventDefault(),e.history.push({pathname:"/climb-record/signup"})}},"Don't have an account? Sign Up"))))),r.a.createElement(Ge,null)))},ca=Object(v.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ia(e){var a=ca(),t=r.a.useState(""),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(""),i=Object(T.a)(c,2),s=i[0],m=i[1],u=r.a.useState(""),p=Object(T.a)(u,2),d=p[0],g=p[1],h=r.a.useState(""),b=Object(T.a)(h,2),f=b[0],E=b[1];function v(e){"firstName"===e.target.id?l(e.target.value):"lastName"===e.target.id&&m(e.target.value),"username"===e.target.id?g(e.target.value):"password"===e.target.id?E(e.target.value):console.error("unknown target id")}return L.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(te.a,{component:"main",maxWidth:"xs"},r.a.createElement($e.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(se.a,{className:a.avatar},r.a.createElement(ra.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(ea.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:o,onChange:v})),r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(ea.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:s,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(ea.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:d,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(ea.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(J.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault(),L.signup(d,f,o,s).then((function(a){alert("user created! try to login!"+a);var t=(e.location.state||{from:{pathname:"/climb-record/login"}}).from;e.history.push(t)})).catch((function(e){return console.log("ERROR: "+e)}))}},"Sign Up"),r.a.createElement($.a,{container:!0,justify:"flex-end"},r.a.createElement($.a,{item:!0},r.a.createElement(qe.a,{href:"/climb-record/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(Ge,null)))}var sa=Object(v.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},imageBorder:{margin:"20px",marginRight:"20px",border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"},imageSize:{width:"150px",height:"150px"}}}));function ma(e){var a=sa(),t=e.match.params.username,n=r.a.useState("LOADING"),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState({}),s=Object(T.a)(i,2),m=s[0],u=s[1];l===Ae&&L.getAll().then((function(e){var a=e.find((function(e){return e.username===t}));a?(u(a),c(Le)):(c(De),alert(t+" username not found"))})).catch((function(){c(ze)}));var p,d=r.a.createElement(te.a,null,r.a.createElement($.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(J.a,{className:a.imageBorder,onClick:function(){}},m.image?r.a.createElement("img",{src:m.image,className:a.imageSize,alt:"Profie"}):r.a.createElement(Z.a,{className:a.imageSize})),r.a.createElement($.a,{style:{margin:"10px"}},m.firstName+" "+m.lastName)),r.a.createElement(Je,{user:m}));switch(l){case Ae:p=r.a.createElement(de,null);break;case Le:p=d;break;case De:p=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"User Not Found");break;case ze:p=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:p=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:"70px",flex:1}},p))}var ua=t(103),pa=t(199),da=Object(ua.a)({palette:{primary:{main:"#aeea00"},secondary:{main:"#006400"}},typography:{useNextVariants:!0}});var ga=function(){return r.a.createElement(pa.a,{theme:da},r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(u,{exact:!0,path:"/climb-record/home",component:_e}),r.a.createElement(u,{exact:!0,path:"/climb-record/id/:username",component:ma}),r.a.createElement(s.b,{path:"/climb-record/login",component:la}),r.a.createElement(s.b,{path:"/climb-record/signup",component:ia}),r.a.createElement(s.a,{exact:!0,from:"/climb-record*",to:"/climb-record/home"}))))};l.a.render(r.a.createElement(c.a,{store:Ye},r.a.createElement(ga,null)),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.11d6eb99.chunk.js.map