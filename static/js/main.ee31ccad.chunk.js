(this["webpackJsonpclimb-record"]=this["webpackJsonpclimb-record"]||[]).push([[0],{113:function(e,a,t){e.exports=t(126)},122:function(e,a,t){},123:function(e,a,t){},126:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t.n(o),c=t(65),i=(t(122),t(49)),s=t(39),m=(t(123),t(66));var u=function(e){var a=e.component,t=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return localStorage.getItem("user")?r.a.createElement(a,e):r.a.createElement(s.a,{to:{pathname:"/climb-record/login",state:{from:e.location}}})}}))},d=t(87),p=t(25),g=t(26),h=t(28),b=t(27),f=t(33),E=t(29),v=t(88),y=t(168),x=t(169),N=t(76),O=t(129),j=t(89),S=t.n(j),k=t(90),w=t.n(k),C=Object(v.a)((function(e){return{flex1:{flexGrow:1},appbar:{color:"primary",backgroundColor:"#aeea00",opacity:"0.8"},menuButton:{color:"white !important"}}}));var R=Object(s.f)((function(e){var a=C();return r.a.createElement(y.a,{position:"fixed",className:a.appbar},r.a.createElement(x.a,null,r.a.createElement(N.a,{variant:"h6",className:a.flex1},r.a.createElement(O.a,{onClick:function(){},edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(S.a,null)),r.a.createElement(O.a,{disabled:!0,edge:"start",className:a.menuButton},"Climb Record App")),r.a.createElement(O.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.history.push({pathname:"/climb-record/login"})}},r.a.createElement(w.a,null))))})),I=t(54),T=t(9),U="UPDATE_USER";function F(e){return{type:U,payload:e}}function A(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.authdata?{Authorization:"Basic "+e.authdata}:{}}var L={login:function(e,a){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})};return fetch("https://test-server-express-2.herokuapp.com/users/authenticate",t).then(P).then((function(t){return t&&(t.authdata=window.btoa(e+":"+a),localStorage.setItem("user",JSON.stringify(t))),t})).catch((function(e){return console.log("ERROR: "+e)}))},logout:D,signup:function(e,a,t,n){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a,firstName:t,lastName:n})};return fetch("https://test-server-express-2.herokuapp.com/users/addUser",r).then(P).then((function(t){return t&&(t.authdata=window.btoa(e+":"+a),localStorage.setItem("user",JSON.stringify(t))),t})).catch((function(e){return console.log("ERROR signup: "+e)}))},getAll:function(){var e={method:"GET",headers:A()};return fetch("https://test-server-express-2.herokuapp.com/users",e).then(P)},getRutesForUser:function(){var e={method:"GET",headers:A()};return fetch("https://test-server-express-2.herokuapp.com/users/getRutes",e).then(P)},addRuteForUser:function(e,a,t,n,r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:a,comment:t,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/addRute",o).then(P)},deleteRuteForUser:function(e,a,t,n,r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,ruteName:a,comment:t,location:n,grade:r})};return fetch("https://test-server-express-2.herokuapp.com/users/delRute",o).then(P)},uploadPhotoForUser:function(e,a){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,image:a})};return fetch("https://test-server-express-2.herokuapp.com/users/addPhoto",t).then(P).then((function(e){return e&&localStorage.setItem("user",JSON.stringify({username:e.username,firstName:e.firstName,lastName:e.lastName,image:a})),e})).catch((function(e){return console.log("ERROR upload photo: "+e)}))}};function D(){localStorage.removeItem("user")}function P(e){return e.text().then((function(a){var t=a&&JSON.parse(a);if(!e.ok){401===e.status&&(D(),window.location.reload(!0));var n=t&&t.message||e.statusText;return Promise.reject(n)}return t}))}var W=t(91),z=t.n(W),B=t(175),J=t(192),q=t(4),G=t(170),_=t(171),H=t(172),M=t(92),V=t.n(M),Y=Object(q.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,o=Object(m.a)(e,["children","classes","onClose"]);return r.a.createElement(G.a,Object.assign({disableTypography:!0,className:t.root},o),r.a.createElement(N.a,{variant:"h6"},a),n?r.a.createElement(O.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(V.a,null)):null)})),K=Object(q.a)((function(e){return{root:{padding:e.spacing(2)}}}))(_.a),Q=Object(q.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(H.a),X=t(45),Z=t.n(X),$=t(173),ee=t(174);var ae=Object(c.b)((function(e){return console.log(e),{user:{username:e.user.username,firstName:e.user.firstName,lastName:e.user.lastName,image:e.user.image}}}),{updateUser:F})((function(e){var a=e.user,t=r.a.useState(!1),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(null),i=Object(T.a)(c,2),s=i[0],m=i[1],u=r.a.useState(null),d=Object(T.a)(u,2),p=d[0];if(d[1],!e.user.username)return e.updateUser(JSON.parse(localStorage.getItem("user"))),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{color:"secondary"}));var g=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{color:"secondary",onClick:function(){l(!0)},style:{marginBottom:"20px",border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"}},a.image?r.a.createElement("img",{src:a.image,alt:"Profie",style:{width:"150px",height:"150px"}}):r.a.createElement(Z.a,{style:{width:"150px",height:"150px"}})),r.a.createElement(J.a,{onClose:g,"aria-labelledby":"customized-dialog-title",open:o},r.a.createElement(Y,{id:"customized-dialog-title",onClose:g},"Upload Image"),r.a.createElement(K,{dividers:!0},r.a.createElement(z.a,{width:390,height:295,onCrop:function(e){m(e)},onClose:function(){m(null)},src:p,imageWidth:250})),r.a.createElement(Q,null,r.a.createElement(B.a,{autoFocus:!0,onClick:function(){var a=e.user.username,t=s;L.uploadPhotoForUser(a,t).then((function(){e.updateUser(JSON.parse(localStorage.getItem("user"))),l(!1)})).catch((function(e){l(!1),alert(e)}))},color:"primary"},"Save changes"))))})),te=t(176),ne=function(e){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement($.a,{item:!0,sx:12,sm:12,md:3},r.a.createElement(te.a,{style:{marginTop:"10px"}},r.a.createElement(ae,null),r.a.createElement("h5",{className:"card-title"},"Hi ",this.props.user.firstName,"! ",r.a.createElement(I.a,null)),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Welcome to Climb Record App!!"),r.a.createElement("p",{className:"card-text"},"This is a perfect place for you to keep track of climbing scores and get in touch with awesome people.")))}}]),a}(r.a.Component),re=function(e){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this,a=this.props.users;return r.a.createElement($.a,{item:!0,sx:12,sm:4,md:2,style:{minWidth:"18em"}},r.a.createElement("div",{className:"card-body menu"},r.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Members"),a.loading&&r.a.createElement("em",null,"Loading users..."),a.length&&r.a.createElement("ul",null,a.map((function(a,t){return r.a.createElement(B.a,{key:t,fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.props.history.push({pathname:"/climb-record/id/"+a.username})}},r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},a.image?r.a.createElement("img",{style:{width:"2.4em"},src:a.image,alt:"Profie Photo"}):r.a.createElement(Z.a,{fontSize:"large"}),a.firstName+" "+a.lastName))})))))}}]),a}(r.a.Component),oe=Object(s.f)(re),le=t(177),ce=t(19),ie=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){var e=this.props,a=e.filedInput,t=e.label,n=e.submitted,o=e.htmlLabel;return r.a.createElement("div",{className:"form-group"+(n&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:o},t),r.a.createElement("input",{type:"text",className:"form-control",name:o,value:a,onChange:this.handleChange}),n&&!a&&r.a.createElement("div",{className:"help-block"},t," is required"))}}]),a}(r.a.Component);var se=function(e){var a=Object(ce.a)(),t=Object(le.a)(a.breakpoints.down("sm")),n=r.a.useState(!1),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState(""),s=Object(T.a)(i,2),m=s[0],u=s[1],d=r.a.useState(""),p=Object(T.a)(d,2),g=p[0],h=p[1],b=r.a.useState(""),f=Object(T.a)(b,2),E=f[0],v=f[1],y=r.a.useState(""),x=Object(T.a)(y,2),N=x[0],O=x[1],j=r.a.useState(!1),S=Object(T.a)(j,2),k=S[0],w=S[1],C=function(){c(!1)};function R(e){var a=e.target,t=a.name,n=a.value;"ruteName"===t?u(n):"comment"===t?h(n):"location"===t?v(n):"grade"===t?O(n):console.log("error!!!!!!!!!")}return r.a.createElement("div",null,r.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){c(!0)}},"Add new route"),r.a.createElement(J.a,{fullScreen:t,onClose:C,"aria-labelledby":"customized-dialog-title",open:l},r.a.createElement(Y,{id:"customized-dialog-title",onClose:C},"Add new route"),r.a.createElement(K,{dividers:!0},r.a.createElement("form",{name:"form",className:"formmargin"},r.a.createElement(ie,{label:"Route Name",htmlLabel:"ruteName",filedInput:m,submitted:k,handleChange:R}),r.a.createElement("div",{className:"d-flex flex-wrap"},r.a.createElement(ie,{label:"Location",htmlLabel:"location",filedInput:E,submitted:k,handleChange:R}),r.a.createElement("div",{className:"gradepicker"},r.a.createElement(ie,{label:"Grade",htmlLabel:"grade",filedInput:N,submitted:k,handleChange:R}))),r.a.createElement(ie,{label:"Comment",htmlLabel:"comment",filedInput:g,submitted:k,handleChange:R}))),r.a.createElement(Q,null,r.a.createElement(B.a,{autoFocus:!0,variant:"contained",color:"primary",onClick:function(a){w(!0),e.username&&m&&g&&E&&N?(L.addRuteForUser(e.username,m,g,E,N).then((function(){return e.updateRoutesList()})),c(!1)):console.log("form input is invalid")}},"Save changes"))))},me=t(3),ue=t(98),de=t.n(ue),pe=t(96),ge=t.n(pe),he=t(97),be=t.n(he),fe=t(191),Ee=t(179),ve=t(178),ye=t(181),xe=t(95),Ne=t.n(xe),Oe=t(182),je=t(180);function Se(){return r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,null))}var ke="LOADING",we="USER_FOUND",Ce="USER_NOT_FOUND",Re="INTERNAL_ERROR",Ie="ROUTES_FOUND",Te=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},border:{boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));function Ue(e){var a=Te(),t=e.user,n=r.a.useState([]),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState([]),s=Object(T.a)(i,2),m=s[0],u=s[1],d=r.a.useState("LOADING"),p=Object(T.a)(d,2),g=p[0],h=p[1];g!==ke&&!0!==e.reload||L.getRutesForUser().then((function(e){c(e),h(Ie)})).catch((function(){h("INTERNAL_ERROR")}));var b,f=r.a.createElement($.a,{item:!0,sx:12,style:{flex:1,minWidth:"15em"}},r.a.createElement("div",{className:"searchbutton mb-4"},r.a.createElement("input",{className:"form-control",type:"text",value:m,onChange:function(e){u(e.target.value)},name:"searchstr",placeholder:"Search","aria-label":"Search"})),l.map((function(n,o){return n.username===t.username&&(0===m.length||n.ruteName.search(m)>-1)?r.a.createElement(fe.a,{key:o,className:a.border},r.a.createElement(ve.a,{expandIcon:r.a.createElement(Ne.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.heading},n.ruteName)),r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.secondaryHeading},n.grade))),r.a.createElement(Ee.a,{className:a.details},r.a.createElement("div",{className:a.column}),r.a.createElement("div",{className:a.column},r.a.createElement(N.a,{className:a.secondaryHeading},n.comment)),r.a.createElement("div",{className:Object(me.a)(a.column,a.helper)},r.a.createElement(N.a,{variant:"caption"},n.location))),r.a.createElement(je.a,null),r.a.createElement(ye.a,null,r.a.createElement(Oe.a,{size:"small","aria-label":"scroll back to top",className:a.border,onClick:e.submitDeletionOfRoute},r.a.createElement(ge.a,{color:"primary"})),r.a.createElement(Oe.a,{size:"small","aria-label":"scroll back to top",className:a.border},r.a.createElement(be.a,{color:"primary"})),r.a.createElement(Oe.a,{size:"small","aria-label":"scroll back to top",className:a.border},r.a.createElement(de.a,{color:"primary"})))):null})));switch(g){case ke:b=r.a.createElement(Se,null);break;case Ie:b=f;break;case Re:b=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:b=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement("div",{className:a.root},b)}var Fe=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).state={rutes:[],searchstr:"",reload:!1},t.handleAddingRute=t.handleAddingRute.bind(Object(f.a)(t)),t.updateRoutesList=t.updateRoutesList.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.getRutesForUser().then((function(a){return e.setState({rutes:a})}))}},{key:"handleAddingRute",value:function(e){document.getElementById("addRouteOverlay").style.display="block"}},{key:"updateRoutesList",value:function(e){var a=this;this.setState({reload:!0}),L.getRutesForUser().then((function(e){return a.setState({rutes:e})})).then((function(){return a.setState({reload:!1})}))}},{key:"render",value:function(){var e=this.props.user,a=this.state.reload;return a?r.a.createElement(Se,null):r.a.createElement($.a,{item:!0,sx:12,style:{flex:1,minWidth:"18em",margin:"20px"}},r.a.createElement(se,{username:e.username,updateRoutesList:this.updateRoutesList}),r.a.createElement(Ue,{user:e,reload:a}))}}]),a}(r.a.Component),Ae=t(183);function Le(e){var a=Object(v.a)((function(a){return{root:{position:e.position,marginTop:"40px",padding:"10px",left:"0",right:"0",bottom:"0"}}}))();return r.a.createElement(N.a,{className:a.root,variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Ae.a,{color:"inherit",href:"https://todovica.github.io/"},"Ana Todovic")," ",(new Date).getFullYear(),".")}var De=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).state={user:{},users:[],rutes:[],submitted:!1,ruteName:"",comment:"",location:"",grade:""},t.handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({user:JSON.parse(localStorage.getItem("user")),users:{loading:!0}}),L.getAll().then((function(a){return e.setState({users:a})}))}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(d.a)({},t,n))}},{key:"render",value:function(){var e=this.state,a=e.user,t=e.users,n=e.ruteName,o=e.comment,l=e.submitted,c=e.location,i=e.grade;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",style:{marginTop:"70px",marginBottom:"40px",flex:1}},r.a.createElement(ne,{user:a}),r.a.createElement(Fe,{user:a,users:t,ruteName:n,comment:o,location:c,grade:i,submitted:l}),r.a.createElement(oe,{users:t})),r.a.createElement(Le,{position:"fixed"}))}}]),a}(r.a.Component),Pe=t(55),We={user:{username:localStorage.getItem("user")?localStorage.getItem("user").username:"",firstName:localStorage.getItem("user")?localStorage.getItem("user").firstName:"",lastName:localStorage.getItem("user")?localStorage.getItem("user").lastName:"",image:localStorage.getItem("user")?localStorage.getItem("user").image:null}};var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,a=arguments.length>1?arguments[1]:void 0;return a.type===U?Object.assign({},e,{user:{username:a.payload.username,firstName:a.payload.firstName,lastName:a.payload.lastName,image:a.payload.image}}):e},Be=Object(Pe.b)(ze),Je=t(99),qe=t.n(Je),Ge=Object(v.a)((function(e){return{root:{flexGrow:1,backgroundImage:"url(".concat(qe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",height:"500px"},space:{padding:e.spacing(2)}}}));function _e(){var e=Ge();return r.a.createElement($.a,{container:!0,className:e.root,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h1"},"Climb Record App"),r.a.createElement(N.a,{className:e.space,color:"primary",component:"h1",variant:"h5"},'"It is not the mountain we conquer, but ourselves."',r.a.createElement("footer",{className:"blockquote-footer"},"Sir Edmund Hillary")))}var He=t(185),Me=t(184),Ve=t(188),Ye=t(186),Ke=t(190),Qe=t(64),Xe=t.n(Qe),Ze=Object(v.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var $e=function(e){var a=Ze(),t=r.a.useState(""),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(""),i=Object(T.a)(c,2),s=i[0],m=i[1];function u(e){"username"===e.target.id?l(e.target.value):"password"===e.target.id?m(e.target.value):console.error("unknown target id")}return L.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),r.a.createElement(te.a,{component:"main",maxWidth:"xs"},r.a.createElement(Me.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(He.a,{className:a.avatar},r.a.createElement(Xe.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(Ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:o,autoComplete:"username",autoFocus:!0,onChange:u}),r.a.createElement(Ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:s,autoComplete:"current-password",onChange:u}),r.a.createElement(Ye.a,{control:r.a.createElement(Ke.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault(),L.login(o,s).then((function(a){Be.dispatch(F(a));var t=(e.location.state||{from:{pathname:"/climb-record/home"}}).from;e.history.push(t)}))}},"Sign In"),r.a.createElement($.a,{container:!0},r.a.createElement($.a,{item:!0,xs:!0},r.a.createElement(Ae.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement($.a,{item:!0},r.a.createElement(Ae.a,{href:"#",variant:"body2",onClick:function(a){a.preventDefault(),e.history.push({pathname:"/climb-record/signup"})}},"Don't have an account? Sign Up"))))),r.a.createElement(Le,null)))},ea=Object(v.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function aa(e){var a=ea(),t=r.a.useState(""),n=Object(T.a)(t,2),o=n[0],l=n[1],c=r.a.useState(""),i=Object(T.a)(c,2),s=i[0],m=i[1],u=r.a.useState(""),d=Object(T.a)(u,2),p=d[0],g=d[1],h=r.a.useState(""),b=Object(T.a)(h,2),f=b[0],E=b[1];function v(e){"firstName"===e.target.id?l(e.target.value):"lastName"===e.target.id&&m(e.target.value),"username"===e.target.id?g(e.target.value):"password"===e.target.id?E(e.target.value):console.error("unknown target id")}return L.logout(),r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),r.a.createElement(te.a,{component:"main",maxWidth:"xs"},r.a.createElement(Me.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(He.a,{className:a.avatar},r.a.createElement(Xe.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(Ve.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:o,onChange:v})),r.a.createElement($.a,{item:!0,xs:12,sm:6},r.a.createElement(Ve.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:s,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ve.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:p,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ve.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:v})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ye.a,{control:r.a.createElement(Ke.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault(),L.signup(p,f,o,s).then((function(a){alert("user created! try to login!"+a);var t=(e.location.state||{from:{pathname:"/climb-record/login"}}).from;e.history.push(t)})).catch((function(e){return console.log("ERROR: "+e)}))}},"Sign Up"),r.a.createElement($.a,{container:!0,justify:"flex-end"},r.a.createElement($.a,{item:!0},r.a.createElement(Ae.a,{href:"/climb-record/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(Le,null)))}var ta=Object(v.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},imageBorder:{margin:"20px",marginRight:"20px",border:"2px solid",borderRadius:"10em",borderColor:"#beee33",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"},imageSize:{width:"150px",height:"150px"}}}));function na(e){var a=ta(),t=e.match.params.username,n=r.a.useState("LOADING"),o=Object(T.a)(n,2),l=o[0],c=o[1],i=r.a.useState({}),s=Object(T.a)(i,2),m=s[0],u=s[1];l===ke&&L.getAll().then((function(e){var a=e.find((function(e){return e.username===t}));a?(u(a),c(we)):(c(Ce),alert(t+" username not found"))})).catch((function(){c(Re)}));var d,p=r.a.createElement(te.a,null,r.a.createElement($.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(B.a,{className:a.imageBorder,onClick:function(){}},m.image?r.a.createElement("img",{src:m.image,className:a.imageSize,alt:"Profie"}):r.a.createElement(Z.a,{className:a.imageSize})),r.a.createElement($.a,{style:{margin:"10px"}},m.firstName+" "+m.lastName)),r.a.createElement(Ue,{user:m}));switch(l){case ke:d=r.a.createElement(Se,null);break;case we:d=p;break;case Ce:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"User Not Found");break;case Re:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Internal Error");break;default:d=r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},"Unknown Error")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:"70px",flex:1}},d))}var ra=t(100),oa=t(187),la=Object(ra.a)({palette:{primary:{main:"#aeea00"},secondary:{main:"#006400"}},typography:{useNextVariants:!0}});var ca=function(){return r.a.createElement(oa.a,{theme:la},r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(u,{exact:!0,path:"/climb-record/home",component:De}),r.a.createElement(u,{exact:!0,path:"/climb-record/id/:username",component:na}),r.a.createElement(s.b,{path:"/climb-record/login",component:$e}),r.a.createElement(s.b,{path:"/climb-record/signup",component:aa}),r.a.createElement(s.a,{exact:!0,from:"/climb-record*",to:"/climb-record/home"}))))};l.a.render(r.a.createElement(c.a,{store:Be},r.a.createElement(ca,null)),document.getElementById("root"))},99:function(e,a,t){e.exports=t.p+"static/media/background.16d02ccb.png"}},[[113,1,2]]]);
//# sourceMappingURL=main.ee31ccad.chunk.js.map